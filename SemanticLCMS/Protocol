Протокол на основе архитектуры REST для взаимодействия с веб-сервисом.

TODO код возвращаемых ошибок.

Введение.

Используемые обозначения:
uri - полный uri ресурса (например, "http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#Winery"),
id -  id ресурса, являющийся частью полного uri после знака # или : (например, Winery).
Ресурсы - это и классы, и экземпляры классов.

Возможные URI и соответствующие им ресурсы:
/ - список всех классов,
/classid/ - класс с id = classid в виде списка всех своих экземпляров,
/objectid/ - экземпляр с id = objectid в виде списка всех своих возможных свойств со значениями (неинициализированные свойства равны None (Python), 
null (Json, Html)).

Ресурсы можно запрашивать в нескольких видах:
Возможные виды ресурсов:
<text/html> (по умолчанию),
<text/json>.

Действия CRUD и соответствующие им методы http:
C = create 	-> PUT
R = read 	-> GET
U = update 	-> POST
D = delete 	-> DELETE

Дополнительные условия:
Нельзя удалять/добавлять классы, 
       удалять/добавлять свойства.
У каждого преподавателя свой namespace.

Протокол.

1. Метод GET -> действие read

Тело запроса пусто.

1.1. При запросе http типа GET со значением <text/html> в поле Accept 
     по каждому из URI можно получить соответсвующий ресурс.

1.2. При запросе http типа GET со значением <text/json> в поле Accept 
     при обращении к URI

1.2.1.
/ возвращается список всех классов в виде списка json: [class1uri, class2uri, ...].
Например,
["http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#Chianti", "http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#Pauillac", ...]

1.2.2.
/classid/ возвращается класс с id = classid в виде объекта json: {classuri: [object1uri, object2uri, ...]}
Например,
{"http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#Region": ["http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#BeaujolaisRegion", "http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#FrenchRegion", ... ]}

Замечание.
При несуществовании класса classid возвращается пустой объект json: {}.

1.2.3.
/objectid/ возвращается экземпляр с id = objectid в виде объекта json:
{classuri: {objecturi: {property1uri: property1value, ...}}}

Значение свойства (например, property1value) может иметь 2 вида:
	null - значения нет,
	[[val1, val1type], ... ] - свойство имеет одно или более значений.

Например,
{"http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#Winery": {"http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#LaneTanner": {"http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#hasBody": null, "http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#hasFlavor": null, "http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#hasMaker": null, "http://www.w3.org/TR/2003/PR-owl-guide-20031209/wine#hasSugar": null}}}

Замечание.
При несуществовании класса objectid возвращается пустой объект json: {}.



!!!Далее рассматриваются сообщения http протокола со значением <text/json> в поле Accept 

2. Метод DELETE -> действие delete

2.1. Удалить экземпляр
При запросе http типа DELETE
по URI /objectid/
происходит удаление экземпляра objectid.
Тело запроса пусто.

Замечание.
Удаление экземпляра - это удаление всех его свойств (троек типа objecturi some_predicate some_object; причем в качестве some_predicate будет выступать и rdf:type).

Ответ на запрос такого вида:
1. пустой - объект не был удален (произошла ошибка - не существует такого объекта objectid),
2. objectid - был удален объект objectid.


3. Метод PUT -> действие create

3.1. Создать экземпляр
При запросе http типа PUT
по URI /objectid/
при теле запроса classid
происходит добавление экземпляра objectid класса classid.

Замечание.
Создание экземпляра - это добавление тройки вида objecturi rdf:type classuri.

Ответ на запрос такого вида:
1. пустой - объект не был создан (произошла ошибка - такой идентификатор objectid уже существует, класса classid не существует),
2. objectid - был создан объект objectid класса classid.


4. Метод POST -> действия update

4.1. Изменить экземпляр
При запросе http типа POST
по URI /objectid/ 
происходит изменение экземпляра objectid.
В теле запроса указывается следующее:
{propertyid: [propertyvalue1, ...]}
Причем {propertyid: null} означает обнуление = удаление свойства у объекта.

Замечание.
Изменение экземпляра - это изменение значений свойств экземпляра (добавление несуществовавших ранее свойств и их значений, изменение значений существующих свойств, обнуление значений существующих свойств = удаление свойства)

Ответ на запрос такого вида:
1. пустой - свойство не было изменено (произошла ошибка - не существует объекта objectid, не существует свойства propertyid класса classid этого объекта, тип значения свойства указан неверно),
2. propertyid - свойство было изменено.
